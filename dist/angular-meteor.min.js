/*! angular-meteor v1.3.7 */
!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.name=void 0,r(1),r(2),r(3),r(4),r(5),r(6),r(7),r(8),r(9),r(10),r(11),r(12),r(13);var n=r(14),o=r(15),i=r(16),a=r(17),s=r(18),u=r(19),c=r(20),l=t.name="angular-meteor";angular.module(l,[n.name,o.name,i.name,a.name,s.name,u.name,c.name,"angular-meteor.ironrouter","angular-meteor.utils","angular-meteor.subscribe","angular-meteor.collection","angular-meteor.object","angular-meteor.user","angular-meteor.methods","angular-meteor.session","angular-meteor.camera"]).run([o.Mixer,a.Core,s.ViewModel,u.Reactive,function(e,t,r,n){e.mixin(t).mixin(r).mixin(n)}]).service("$meteor",["$meteorCollection","$meteorCollectionFS","$meteorObject","$meteorMethods","$meteorSession","$meteorSubscribe","$meteorUtils","$meteorCamera","$meteorUser",function(e,t,r,n,o,i,a,s,u){var c=this;this.collection=e,this.collectionFS=t,this.object=r,this.subscribe=i.subscribe,this.call=n.call,this.session=o,this.autorun=a.autorun,this.getCollectionByName=a.getCollectionByName,this.getPicture=s.getPicture,["loginWithPassword","requireUser","requireValidUser","waitForUser","createUser","changePassword","forgotPassword","resetPassword","verifyEmail","loginWithMeteorDeveloperAccount","loginWithFacebook","loginWithGithub","loginWithGoogle","loginWithMeetup","loginWithTwitter","loginWithWeibo","logout","logoutOtherClients"].forEach(function(e){c[e]=u[e]})}])},function(e,t){"use strict";!function(){var e=angular.module("getUpdates",[]),t=function(){var e=function s(e,t){return 1>t?{}:_.reduce(e,function(e,r,n){return r=_.isObject(r)?s(r,--t):r,e[n]=r,e},{})},t=function(e){var t=r(e),o=n(e);return _.object(t,o)},r=function u(e){var t=_.keys(e).map(function(t){var r=e[t];return!_.isObject(r)||_.isEmpty(r)||_.isArray(r)?t:u(r).map(function(e){return t+"."+e})});return _.flatten(t)},n=function c(e,t){return t=t||[],_.values(e).forEach(function(e){!_.isObject(e)||_.isEmpty(e)||_.isArray(e)?t.push(e):c(e,t)}),t},o=function(e,t,r){_.isEmpty(r)||(e[t]=r)},i=function(e,t){e||a(t)},a=function(e){throw Error("get-updates error - "+e)};return{rip:e,toPaths:t,getKeyPaths:r,getDeepValues:n,setFilled:o,assert:i,throwErr:a}}(),r=function(){var e=function(e,n,o){var i;return o>1?i=o:o&&(i=1),i&&(e=t.rip(e,i),n=t.rip(n,i)),r(e,n)},r=function(r,n){var o=_.keys(r),i=_.keys(n),a=_.chain([]).concat(o).concat(i).uniq().without("$$hashKey").value();return a.reduce(function(o,i){var a=r[i],s=n[i];if(_.isDate(a)&&_.isDate(s)&&a.getTime()!=s.getTime()&&(o[i]=s),_.isObject(a)&&_.isObject(s)){var u=e(a,s);t.setFilled(o,i,u)}else a!==s&&(o[i]=s);return o},{})};return e}(),n=function(){var e=function(e,a,s){t.assert(_.isObject(e),"first argument must be an object"),t.assert(_.isObject(a),"second argument must be an object");var u=r(e,a,s),c=t.toPaths(u),l=n(c),f=o(c),d=i(f),h={};return t.setFilled(h,"$set",l),t.setFilled(h,"$unset",f),t.setFilled(h,"$pull",d),h},n=function(e){var t=a(e);return _.omit(e,t)},o=function(e){var t=a(e),r=_.pick(e,t);return _.reduce(r,function(e,t,r){return e[r]=!0,e},{})},i=function(e){var t=_.keys(e).map(function(e){var t=e.match(/(.*)\.\d+$/);return t&&t[1]});return _.compact(t).reduce(function(e,t){return e[t]=null,e},{})},a=function(e){return _.keys(e).filter(function(t){var r=e[t];return _.isUndefined(r)})};return e}();e.value("getUpdates",n)}()},function(e,t){"use strict";var r=angular.module("diffArray",["getUpdates"]);r.factory("diffArray",["getUpdates",function(e){function t(t,r,i,a){a=!!a;var s=Package.minimongo.LocalCollection._diffQueryOrderedChanges||Package["diff-sequence"].DiffSequence.diffQueryOrderedChanges,u=[],c=[],l={},f={},d={},h=t.length;_.each(r,function(e,t){c.push({_id:e._id}),f[n(e._id)]=t}),_.each(t,function(e,t){u.push({_id:e._id}),l[n(e._id)]=t,d[n(e._id)]=t}),s(u,c,{addedBefore:function(e,t,o){var a=o?d[n(o)]:h;_.each(d,function(e,t){e>=a&&d[t]++}),h++,d[n(e)]=a,i.addedAt(e,r[f[n(e)]],a,o)},movedBefore:function(e,t){var o=d[n(e)],a=t?d[n(t)]:h-1;_.each(d,function(e,t){e>=o&&a>=e?d[t]--:o>=e&&e>=a&&d[t]++}),d[n(e)]=a,i.movedTo(e,r[f[n(e)]],o,a,t)},removed:function(e){var r=d[n(e)];_.each(d,function(e,t){e>=r&&d[t]--}),delete d[n(e)],h--,i.removedAt(e,t[l[n(e)]],r)}}),_.each(f,function(n,s){if(_.has(l,s)){var u=o(s),c=r[n]||{},f=t[l[s]],d=e(f,c,a);_.isEmpty(d)||i.changedAt(u,d,n,f)}})}var r=Package.minimongo.LocalCollection,n=r._idStringify||Package["mongo-id"].MongoID.idStringify,o=r._idParse||Package["mongo-id"].MongoID.idParse;t.shallow=function(e,r,n){return t(e,r,n,!0)},t.deepCopyChanges=function(t,r){var n=e(t,r).$set;_.each(n,function(e,r){i(t,r,e)})},t.deepCopyRemovals=function(t,r){var n=e(t,r).$unset;_.each(n,function(e,r){a(t,r)})},t.getChanges=function(e,t,r){var n={added:[],removed:[],changed:[]};return r(t,e,{addedAt:function(e,t,r){n.added.push({item:t,index:r})},removedAt:function(e,t,r){n.removed.push({item:t,index:r})},changedAt:function(e,t,r,o){n.changed.push({selector:e,modifier:t})},movedTo:function(e,t,r,n){}}),n};var i=function(e,t,r){var n=t.split("."),o=_.initial(n),i=_.last(n);o.reduce(function(e,t,r){var o=n[r+1];return c(o)?(null===e[t]&&(e[t]=[]),e[t].length==parseInt(o)&&e[t].push(null)):null!==e[t]&&u(e[t])||(e[t]={}),e[t]},e);var a=s(e,o);return a[i]=r,r},a=function(e,t){var r=t.split("."),n=_.initial(r),o=_.last(r),i=s(e,n);return _.isArray(i)&&c(o)?!!i.splice(o,1):delete i[o]},s=function(e,t){return t.reduce(function(e,t){return e[t]},e)},u=function(e){return _.isObject(e)&&Object.getPrototypeOf(e)===Object.prototype},c=function(e){return e.match(/^\d+$/)};return t}])},function(e,t){"use strict";angular.module("angular-meteor.settings",[]).constant("$angularMeteorSettings",{suppressWarnings:!1})},function(e,t){"use strict";angular.module("angular-meteor.ironrouter",[]).run(["$compile","$document","$rootScope",function(e,t,r){var n=(Package["iron:router"]||{}).Router;if(n){var o=!1;n.onAfterAction(function(n,i,a){Tracker.afterFlush(function(){o||(e(t)(r),r.$$phase||r.$apply(),o=!0)})})}}])},function(e,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},n=angular.module("angular-meteor.utils",["angular-meteor.settings"]);n.service("$meteorUtils",["$q","$timeout","$angularMeteorSettings",function(e,t,n){var o=this;this.autorun=function(e,r){n.suppressWarnings||console.warn("[angular-meteor.utils.autorun] Please note that this method is deprecated since 1.3.0 and will be removed in 1.4.0! For more info: http://www.angular-meteor.com/api/1.3.6/autorun. You can disable this warning by following this guide http://www.angular-meteor.com/api/1.3.6/settings");var o=Tracker.autorun(function(e){r(e),e.firstRun||t(angular.noop,0)});return e.$on("$destroy",function(){o.stop()}),o},this.stripDollarPrefixedKeys=function(e){if(!_.isObject(e)||e instanceof Date||e instanceof File||"oid"===EJSON.toJSONValue(e).$type||"object"===("undefined"==typeof FS?"undefined":r(FS))&&e instanceof FS.File)return e;var t=_.isArray(e)?[]:{};return _.each(e,function(e,r){"string"==typeof r&&"$"===r.charAt(0)||(t[r]=o.stripDollarPrefixedKeys(e))}),t},this.fulfill=function(e,t,r){return function(n,o){n?e.reject(null==t?n:t):"function"==typeof r?e.resolve(null==r?o:r(o)):e.resolve(null==r?o:r)}},this.promissor=function(t,r){return function(){var n=e.defer(),i=o.fulfill(n),a=_.toArray(arguments).concat(i);return t[r].apply(t,a),n.promise}},this.promiseAll=function(r){var n=e.all(r);return n["finally"](function(){t(angular.noop)}),n},this.getCollectionByName=function(e){return Mongo.Collection.get(e)},this.findIndexById=function(e,t){var r=_.find(e,function(e){return EJSON.equals(e._id,t._id)});return _.indexOf(e,r)}}]),n.run(["$rootScope","$meteorUtils",function(e,t){Object.getPrototypeOf(e).$meteorAutorun=function(e){return t.autorun(this,e)}}])},function(e,t){"use strict";var r=angular.module("angular-meteor.subscribe",["angular-meteor.settings"]);r.service("$meteorSubscribe",["$q","$angularMeteorSettings",function(e,t){var r=this;this._subscribe=function(e,r,n){t.suppressWarnings||console.warn("[angular-meteor.subscribe] Please note that this module is deprecated since 1.3.0 and will be removed in 1.4.0! Replace it with the new syntax described here: http://www.angular-meteor.com/api/1.3.6/subscribe. You can disable this warning by following this guide http://www.angular-meteor.com/api/1.3.6/settings");var o=null,i=n[n.length-1];if(angular.isObject(i)&&angular.isFunction(i.onStop)){var a=i.onStop;n.pop()}return n.push({onReady:function(){r.resolve(o)},onStop:function(e){r.promise.$$state.status?a&&a.apply(this,Array.prototype.slice.call(arguments)):e?r.reject(e):r.reject(new Meteor.Error("Subscription Stopped","Subscription stopped by a call to stop method. Either by the client or by the server."))}}),o=Meteor.subscribe.apply(e,n)},this.subscribe=function(){var t=e.defer(),n=Array.prototype.slice.call(arguments);return r._subscribe(this,t,n),t.promise}}]),r.run(["$rootScope","$q","$meteorSubscribe",function(e,t,r){Object.getPrototypeOf(e).$meteorSubscribe=function(){var e=t.defer(),n=Array.prototype.slice.call(arguments),o=r._subscribe(this,e,n);return this.$on("$destroy",function(){o.stop()}),e.promise}}])},function(e,t){"use strict";var r=angular.module("angular-meteor.collection",["angular-meteor.stopper","angular-meteor.subscribe","angular-meteor.utils","diffArray","angular-meteor.settings"]);r.factory("AngularMeteorCollection",["$q","$meteorSubscribe","$meteorUtils","$rootScope","$timeout","diffArray","$angularMeteorSettings",function(e,t,r,n,o,i,a){function s(e,t,n,o){a.suppressWarnings||console.warn("[angular-meteor.$meteorCollection] Please note that this method is deprecated since 1.3.0 and will be removed in 1.4.0! For more info: http://www.angular-meteor.com/api/1.3.0/meteorCollection. You can disable this warning by following this guide http://www.angular-meteor.com/api/1.3.6/settings");var i=[];if(i._serverBackup=[],i._diffArrayFunc=n,i._hObserve=null,i._hNewCurAutorun=null,i._hDataAutorun=null,angular.isDefined(t))i.$$collection=t;else{var u=e();i.$$collection=r.getCollectionByName(u.collection.name)}return _.extend(i,s),i._startCurAutorun(e,o),i}return s._startCurAutorun=function(e,t){var r=this;r._hNewCurAutorun=Tracker.autorun(function(){Tracker.onInvalidate(function(){r._stopCursor()}),t&&r._setAutoClientSave(),r._updateCursor(e(),t)})},s.subscribe=function(){return t.subscribe.apply(this,arguments),this},s.save=function(e,t){e||(e=this),e=[].concat(e);var n=e.map(function(e){return this._upsertDoc(e,t)},this);return r.promiseAll(n)},s._upsertDoc=function(t,n){var o=e.defer(),i=this.$$collection,a=_.partial(r.fulfill,o,null);t=r.stripDollarPrefixedKeys(t);var s=t._id,u=i.findOne(s);if(u){delete t._id;var c=n?{$unset:t}:{$set:t};i.update(s,c,a(function(){return{_id:s,action:"updated"}}))}else i.insert(t,a(function(e){return{_id:e,action:"inserted"}}));return o.promise},s._updateDiff=function(e,t,r){r=r||angular.noop;var n=_.omit(t,"$pull"),o=[n];_.each(t.$pull,function(e,t){var r={};r[t]=e,o.push({$pull:r})}),this._updateParallel(e,o,r)},s._updateParallel=function(e,t,r){var n=this,o=_.after(t.length,r),i=function(e,t){return e?r(e):void o(null,t)};_.each(t,function(t){n.$$collection.update(e,t,i)})},s.remove=function(e){var t;e?(e=[].concat(e),t=_.map(e,function(e){return e._id||e})):t=_.pluck(this,"_id"),check(t,[Match.OneOf(String,Mongo.ObjectID)]);var n=t.map(function(e){return this._removeDoc(e)},this);return r.promiseAll(n)},s._removeDoc=function(t){var n=e.defer(),o=this.$$collection,i=r.fulfill(n,null,{_id:t,action:"removed"});return o.remove(t,i),n.promise},s._updateCursor=function(e,t){var n=this;n._hObserve&&n._stopObserving(),n._hObserve=e.observe({addedAt:function(e,t){n.splice(t,0,e),n._serverBackup.splice(t,0,e),n._setServerUpdateMode()},changedAt:function(e,t,r){i.deepCopyChanges(n[r],e),i.deepCopyRemovals(n[r],e),n._serverBackup[r]=n[r],n._setServerUpdateMode()},movedTo:function(e,t,r){n.splice(t,1),n.splice(r,0,e),n._serverBackup.splice(t,1),n._serverBackup.splice(r,0,e),n._setServerUpdateMode()},removedAt:function(e){var t=r.findIndexById(n,e);-1!=t?(n.splice(t,1),n._serverBackup.splice(t,1),n._setServerUpdateMode()):(t=r.findIndexById(n._serverBackup,e),-1!=t&&n._serverBackup.splice(t,1))}}),n._hDataAutorun=Tracker.autorun(function(){e.fetch(),n._serverMode&&n._unsetServerUpdateMode(t)})},s._stopObserving=function(){this._hObserve.stop(),this._hDataAutorun.stop(),delete this._serverMode,delete this._hUnsetTimeout},s._setServerUpdateMode=function(e){this._serverMode=!0,this._unsetAutoClientSave()},s._unsetServerUpdateMode=function(e){var t=this;t._hUnsetTimeout&&(o.cancel(t._hUnsetTimeout),t._hUnsetTimeout=null),t._hUnsetTimeout=o(function(){t._serverMode=!1;var r=i.getChanges(t,t._serverBackup,t._diffArrayFunc);t._saveChanges(r),e&&t._setAutoClientSave()},0)},s.stop=function(){this._stopCursor(),this._hNewCurAutorun.stop()},s._stopCursor=function(){this._unsetAutoClientSave(),this._hObserve&&(this._hObserve.stop(),this._hDataAutorun.stop()),this.splice(0),this._serverBackup.splice(0)},s._unsetAutoClientSave=function(e){this._hRegAutoBind&&(this._hRegAutoBind(),this._hRegAutoBind=null)},s._setAutoClientSave=function(){var e=this;e._unsetAutoClientSave(),e._hRegAutoBind=n.$watch(function(){return e},function(t,r){if(t!==r){var n=i.getChanges(e,r,e._diffArrayFunc);e._unsetAutoClientSave(),e._saveChanges(n),e._setAutoClientSave()}},!0)},s._saveChanges=function(e){var t=this,r=e.added.reverse().map(function(e){return t.splice(e.index,1),e.item});r.length&&t.save(r);var n=e.removed.map(function(e){return e.item});n.length&&t.remove(n),e.changed.forEach(function(e){t._updateDiff(e.selector,e.modifier)})},s}]),r.factory("$meteorCollectionFS",["$meteorCollection","diffArray","$angularMeteorSettings",function(e,t,r){function n(n,o,i){return r.suppressWarnings||console.warn("[angular-meteor.$meteorCollectionFS] Please note that this method is deprecated since 1.3.0 and will be removed in 1.4.0! For more info: http://www.angular-meteor.com/api/1.3.0/files. You can disable this warning by following this guide http://www.angular-meteor.com/api/1.3.6/settings"),new e(n,o,i,t.shallow)}return n}]),r.factory("$meteorCollection",["AngularMeteorCollection","$rootScope","diffArray",function(e,t,r){function n(t,n,o,i){if(!t)throw new TypeError("The first argument of $meteorCollection is undefined.");if(!angular.isFunction(t)&&!angular.isFunction(t.find))throw new TypeError("The first argument of $meteorCollection must be a function or a have a find function property.");return angular.isFunction(t)||(o=angular.isDefined(o)?o:t,t=_.bind(t.find,t)),n=angular.isDefined(n)?n:!0,i=i||r,new e(t,o,i,n)}return n}]),r.run(["$rootScope","$meteorCollection","$meteorCollectionFS","$meteorStopper",function(e,t,r,n){var o=Object.getPrototypeOf(e);o.$meteorCollection=n(t),o.$meteorCollectionFS=n(r)}])},function(e,t){"use strict";var r=angular.module("angular-meteor.object",["angular-meteor.utils","angular-meteor.subscribe","angular-meteor.collection","getUpdates","diffArray","angular-meteor.settings"]);r.factory("AngularMeteorObject",["$q","$meteorSubscribe","$meteorUtils","diffArray","getUpdates","AngularMeteorCollection","$angularMeteorSettings",function(e,t,r,n,o,i,a){function s(e,t,r){a.suppressWarnings||console.warn("[angular-meteor.$meteorObject] Please note that this method is deprecated since 1.3.0 and will be removed in 1.4.0! For more info: http://www.angular-meteor.com/api/1.3.0/meteorObject. You can disable this warning by following this guide http://www.angular-meteor.com/api/1.3.6/settings");var n=e._helpers,o=_.isFunction(n)?Object.create(n.prototype):{},u=e.findOne(t,r),c=_.pick(i,"_updateParallel");return _.extend(o,u),_.extend(o,s),_.extend(o,c),o.$$options=_.omit(r,"skip","limit"),o.$$collection=e,o.$$id=o._getId(t),o._serverBackup=u||{},o}return s.$$internalProps=["$$collection","$$options","$$id","$$hashkey","$$internalProps","$$scope","bind","save","reset","subscribe","stop","autorunComputation","unregisterAutoBind","unregisterAutoDestroy","getRawObject","_auto","_setAutos","_eventEmitter","_serverBackup","_updateDiff","_updateParallel","_getId"],s.getRawObject=function(){return angular.copy(_.omit(this,this.$$internalProps))},s.subscribe=function(){return t.subscribe.apply(this,arguments),this},s.save=function(t){var n,i=e.defer(),a=this.$$collection,s=_.partial(r.fulfill,i,null),u=a.findOne(this.$$id);if(u){if(t)n={$set:t};else if(n=o(u,this.getRawObject()),_.isEmpty(n))return e.when({action:"updated"});this._updateDiff(n,s({action:"updated"}))}else n=t?_.clone(t):this.getRawObject(),n._id=n._id||this.$$id,a.insert(n,s({action:"inserted"}));return i.promise},s._updateDiff=function(e,t){var r=this.$$id;i._updateDiff.call(this,r,e,t)},s.reset=function(e){var t=this,r=this.$$options,n=this.$$id,o=this.$$collection.findOne(n,r);if(o){var i,a=_.keys(o),s=_.pick(o,a);_.extend(t,s),_.extend(t._serverBackup,s),i=e?_.intersection(_.keys(t),_.keys(t._serverBackup)):_.keys(t);var u=_.keys(o),c=_.difference(i,u,t.$$internalProps);c.forEach(function(e){delete t[e],delete t._serverBackup[e]})}else _.keys(this.getRawObject()).forEach(function(e){delete t[e]}),t._serverBackup={}},s.stop=function(){this.unregisterAutoDestroy&&this.unregisterAutoDestroy(),this.unregisterAutoBind&&this.unregisterAutoBind(),this.autorunComputation&&this.autorunComputation.stop&&this.autorunComputation.stop()},s._getId=function(e){var t=_.extend({},this.$$options,{fields:{_id:1},reactive:!1,transform:null}),r=this.$$collection.findOne(e,t);return r?r._id:e instanceof Mongo.ObjectID?e:_.isString(e)?e:new Mongo.ObjectID},s}]),r.factory("$meteorObject",["$rootScope","$meteorUtils","getUpdates","AngularMeteorObject",function(e,t,r,n){function o(e,t,r,i){if(!e)throw new TypeError("The first argument of $meteorObject is undefined.");if(!angular.isFunction(e.findOne))throw new TypeError("The first argument of $meteorObject must be a function or a have a findOne function property.");var a=new n(e,t,i);return a._auto=r!==!1,_.extend(a,o),a._setAutos(),a}return o._setAutos=function(){var r=this;this.autorunComputation=t.autorun(e,function(){r.reset(!0)}),this.unregisterAutoBind=this._auto&&e.$watch(function(){return r.getRawObject()},function(e,t){e!==t&&r.save()},!0),this.unregisterAutoDestroy=e.$on("$destroy",function(){r&&r.stop&&r.pop()})},o}]),r.run(["$rootScope","$meteorObject","$meteorStopper",function(e,t,r){var n=Object.getPrototypeOf(e);n.$meteorObject=r(t)}])},function(e,t){"use strict";var r=angular.module("angular-meteor.user",["angular-meteor.utils","angular-meteor.core","angular-meteor.settings"]);r.service("$meteorUser",["$rootScope","$meteorUtils","$q","$angularMeteorSettings",function(e,t,r,n){var o=Package["accounts-base"];if(o){var i=this,a=o.Accounts;this.waitForUser=function(){n.suppressWarnings||console.warn("[angular-meteor.waitForUser] Please note that this method is deprecated since 1.3.0 and will be removed in 1.4.0! http://info.meteor.com/blog/angular-meteor-1.3. You can disable this warning by following this guide http://www.angular-meteor.com/api/1.3.6/settings");var o=r.defer();return t.autorun(e,function(){Meteor.loggingIn()||o.resolve(Meteor.user())},!0),o.promise},this.requireUser=function(){n.suppressWarnings||console.warn("[angular-meteor.requireUser] Please note that this method is deprecated since 1.3.0 and will be removed in 1.4.0! http://info.meteor.com/blog/angular-meteor-1.3. You can disable this warning by following this guide http://www.angular-meteor.com/api/1.3.6/settings");var o=r.defer();return t.autorun(e,function(){Meteor.loggingIn()||(null===Meteor.user()?o.reject("AUTH_REQUIRED"):o.resolve(Meteor.user()))},!0),o.promise},this.requireValidUser=function(e){return n.suppressWarnings||console.warn("[angular-meteor.requireValidUser] Please note that this method is deprecated since 1.3.0 and will be removed in 1.4.0! http://info.meteor.com/blog/angular-meteor-1.3. You can disable this warning by following this guide http://www.angular-meteor.com/api/1.3.6/settings"),i.requireUser(!0).then(function(t){var n=e(t);return n===!0?t:"string"==typeof n?r.reject(n):r.reject("FORBIDDEN")})},this.loginWithPassword=t.promissor(Meteor,"loginWithPassword"),this.createUser=t.promissor(a,"createUser"),this.changePassword=t.promissor(a,"changePassword"),this.forgotPassword=t.promissor(a,"forgotPassword"),this.resetPassword=t.promissor(a,"resetPassword"),this.verifyEmail=t.promissor(a,"verifyEmail"),this.logout=t.promissor(Meteor,"logout"),this.logoutOtherClients=t.promissor(Meteor,"logoutOtherClients"),this.loginWithFacebook=t.promissor(Meteor,"loginWithFacebook"),this.loginWithTwitter=t.promissor(Meteor,"loginWithTwitter"),this.loginWithGoogle=t.promissor(Meteor,"loginWithGoogle"),this.loginWithGithub=t.promissor(Meteor,"loginWithGithub"),this.loginWithMeteorDeveloperAccount=t.promissor(Meteor,"loginWithMeteorDeveloperAccount"),this.loginWithMeetup=t.promissor(Meteor,"loginWithMeetup"),this.loginWithWeibo=t.promissor(Meteor,"loginWithWeibo")}}]),r.run(["$rootScope","$angularMeteorSettings","$$Core",function(e,t,r){var n=Object.getPrototypeOf(e);_.extend(n,r),e.autorun(function(){Meteor.user&&(e.currentUser=Meteor.user(),e.loggingIn=Meteor.loggingIn())})}])},function(e,t){"use strict";var r=angular.module("angular-meteor.methods",["angular-meteor.utils","angular-meteor.settings"]);r.service("$meteorMethods",["$q","$meteorUtils","$angularMeteorSettings",function(e,t,r){this.call=function(){r.suppressWarnings||console.warn("[angular-meteor.$meteor.call] Please note that this method is deprecated since 1.3.0 and will be removed in 1.4.0! For more info: http://www.angular-meteor.com/api/1.3.0/methods. You can disable this warning by following this guide http://www.angular-meteor.com/api/1.3.6/settings");var n=e.defer(),o=t.fulfill(n),i=_.toArray(arguments).concat(o);return Meteor.call.apply(this,i),n.promise}}])},function(e,t){"use strict";var r=angular.module("angular-meteor.session",["angular-meteor.utils","angular-meteor.settings"]);r.factory("$meteorSession",["$meteorUtils","$parse","$angularMeteorSettings",function(e,t,r){return function(n){return{bind:function(o,i){r.suppressWarnings||console.warn("[angular-meteor.session.bind] Please note that this method is deprecated since 1.3.0 and will be removed in 1.4.0! http://www.angular-meteor.com/api/1.3.0/session. You can disable this warning by following this guide http://www.angular-meteor.com/api/1.3.6/settings");var a=t(i),s=a.assign;e.autorun(o,function(){s(o,Session.get(n))}),o.$watch(i,function(e,t){Session.set(n,a(o))},!0)}}}}])},function(e,t){"use strict";var r=angular.module("angular-meteor.camera",["angular-meteor.utils","angular-meteor.settings"]);r.service("$meteorCamera",["$q","$meteorUtils","$angularMeteorSettings",function(e,t,r){r.suppressWarnings||console.warn("[angular-meteor.camera] Please note that this module has moved to a separate package and is deprecated since 1.3.0 and will be removed in 1.4.0! For more info: http://www.angular-meteor.com/api/1.3.0/camera. You can disable this warning by following this guide http://www.angular-meteor.com/api/1.3.6/settings");var n=Package["mdg:camera"];if(n){var o=n.MeteorCamera;this.getPicture=function(n){r.suppressWarnings||console.warn("[angular-meteor.camera] Please note that this module has moved to a separate package and is deprecated since 1.3.0 and will be removed in 1.4.0! For more info: http://www.angular-meteor.com/api/1.3.0/camera. You can disable this warning by following this guide http://www.angular-meteor.com/api/1.3.6/settings"),n=n||{};var i=e.defer();return o.getPicture(n,t.fulfill(i)),i.promise}}}])},function(e,t){"use strict";var r=angular.module("angular-meteor.stopper",["angular-meteor.subscribe"]);r.factory("$meteorStopper",["$q","$meteorSubscribe",function(e,t){function r(e){return function(){var t=Array.prototype.slice.call(arguments),n=e.apply(this,t);return angular.extend(n,r),n.$$scope=this,this.$on("$destroy",function(){n.stop(),n.subscription&&n.subscription.stop()}),n}}return r.subscribe=function(){var r=Array.prototype.slice.call(arguments);return this.subscription=t._subscribe(this.$$scope,e.defer(),r),this},r}])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.name="angular-meteor.utilities",n=t.utils="$$utils";angular.module(r,[]).service(n,["$rootScope",function(e){function t(e,t,r){return function(){for(var n=arguments.length,o=Array(n),i=0;n>i;i++)o[i]=arguments[i];var a=e.apply(t,o);return r.call(t,{result:a,args:o}),a}}function r(e,t,r){return _.keys(e).reduce(function(o,i){return o[i]=n.bind(e[i],t,r),o},{})}var n=this;this.isCursor=function(e){return e instanceof Meteor.Collection.Cursor},this.isScope=function(t){return t instanceof e.constructor},this.isViewModel=function(e){return _.isObject(e)&&e.$$dependencies},this.areSiblings=function(e,t){return _.isObject(e)&&_.isObject(t)&&Object.getPrototypeOf(e)===Object.getPrototypeOf(t)},this.bind=function(e,n,o){return o=_.isFunction(o)?o:angular.noop,_.isFunction(e)?t(e,n,o):_.isObject(e)?r(e,n,o):e}}])},function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var n=t.name="angular-meteor.mixer",o=t.Mixer="$Mixer";angular.module(n,[]).service(o,function(){var e=this,t=void 0;this._mixins=[],this._autoExtend=[],this._autoConstruct=[],this.mixin=function(t){if(!_.isObject(t))throw Error("argument 1 must be an object");return e._mixins=_.union(e._mixins,[t]),e._autoExtend.forEach(function(t){return e._extend(t)}),e._autoConstruct.forEach(function(t){return e._construct(t)}),e},this._mixout=function(t){return e._mixins=_.without(e._mixins,t),e},this._construct=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;r>o;o++)n[o-1]=arguments[o];return e._mixins.filter(_.isFunction).forEach(function(e){e.call.apply(e,[t].concat(n))}),t},this._extend=function(n,o){var i,a=_.defaults({},o,{pattern:/.*/}),s=a.pattern,u=a.context,c=e._mixins.map(function(e){var r=_.keys(e).filter(function(e){return e.match(s)}).filter(function(t){return _.isFunction(e[t])});return r.reduce(function(r,n){var o=e[n];return r[n]=function(){var e=u||this,r=t;t=this;try{for(var n=arguments.length,i=Array(n),a=0;n>a;a++)i[a]=arguments[a];return o.apply(e,i)}finally{t=r}},r},{})});return(i=_).extend.apply(i,[n].concat(r(c)))},Object.defineProperty(this,"caller",{configurable:!0,enumerable:!0,get:function(){return t}})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.name=void 0;var n=r(15),o=t.name="angular-meteor.scope";angular.module(o,[n.name]).run(["$rootScope",n.Mixer,function(e,t){var r=e.constructor,n=e.$new;t._autoExtend.push(r.prototype),t._autoConstruct.push(e),r.prototype.$new=function(){var e=n.apply(this,arguments);return t._construct(e)}}])},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Core=t.name=void 0;var o=r(14),i=r(15),a=t.name="angular-meteor.core",s=t.Core="$$Core";angular.module(a,[o.name,i.name]).factory(s,["$q",o.utils,i.Mixer,function(e,t,r){function o(){}return o.autorun=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(e=this.$bindToContext(r.caller,e),!_.isFunction(e))throw Error("argument 1 must be a function");if(!_.isObject(t))throw Error("argument 2 must be an object");var n=Tracker.autorun(e,t);return this.$$autoStop(n),n},o.subscribe=function(e,t,o){if(t=this.$bindToContext(r.caller,t||angular.noop),o=o?this.$bindToContext(r.caller,o):angular.noop,!_.isString(e))throw Error("argument 1 must be a string");if(!_.isFunction(t))throw Error("argument 2 must be a function");if(!_.isFunction(o)&&!_.isObject(o))throw Error("argument 3 must be a function or an object");var i={},a=this.autorun(function(){var r,a=t();if(angular.isUndefined(a)&&(a=[]),!_.isArray(a))throw Error("reactive function's return value must be an array");var s=(r=Meteor).subscribe.apply(r,[e].concat(n(a),[o]));i.ready=s.ready.bind(s),i.subscriptionId=s.subscriptionId});return i.stop=a.stop.bind(a),i},o.callMethod=function(){for(var e,t=arguments.length,n=Array(t),o=0;t>o;o++)n[o]=arguments[o];var i=n.pop();return _.isFunction(i)&&(i=this.$bindToContext(r.caller,i)),(e=Meteor).call.apply(e,n.concat([i]))},o.applyMethod=function(){for(var e,t=arguments.length,n=Array(t),o=0;t>o;o++)n[o]=arguments[o];var i=n.pop();return _.isFunction(i)&&(i=this.$bindToContext(r.caller,i)),(e=Meteor).apply.apply(e,n.concat([i]))},o.$$autoStop=function(e){this.$on("$destroy",e.stop.bind(e))},o.$$throttledDigest=function(){var e=!this.$$destroyed&&!this.$$phase&&!this.$root.$$phase;e&&this.$digest()},o.$$defer=function(){var t=e.defer();return t.promise=t.promise["finally"](this.$$throttledDigest.bind(this)),t},o.$bindToContext=function(e,r){return t.bind(r,e,this.$$throttledDigest.bind(this))},o}])},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.reactive=t.ViewModel=t.name=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(14),a=r(15),s=r(17),u=t.name="angular-meteor.view-model",c=t.ViewModel="$$ViewModel",l=t.reactive="$reactive";angular.module(u,[i.name,a.name,s.name]).factory(c,[i.utils,a.Mixer,function(e,t){function r(){}return r.viewModel=function(e){if(!_.isObject(e))throw Error("argument 1 must be an object");return t._extend(e,{pattern:/^(?!\$\$).*$/,context:this}),t._construct(this,e),e},r}]).service(l,[i.utils,function(e){var t=function(){function t(e){var r=this;if(n(this,t),!_.isObject(e))throw Error("argument 1 must be an object");_.defer(function(){r._attached||console.warn("view model was not attached to any scope")}),this._vm=e}return o(t,[{key:"attach",value:function(t){if(this._attached=!0,!e.isScope(t))throw Error("argument 1 must be a scope");var r=t.viewModel(this._vm);return r.call=r.callMethod,r.apply=r.applyMethod,r}}]),t}();return function(e){return new t(e)}}])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Reactive=t.name=void 0;var n=r(14),o=r(15),i=r(17),a=r(18),s=t.name="angular-meteor.reactive",u=t.Reactive="$$Reactive";angular.module(s,[n.name,o.name,i.name,a.name]).factory(u,["$parse",n.utils,o.Mixer,function(e,t,r){function n(){var e=arguments.length<=0||void 0===arguments[0]?this:arguments[0];e.$$dependencies={}}return n.helpers=function(e,n){var o=this;if(t.isViewModel(e)){if(!_.isObject(n))throw Error("argument 2 must be an object")}else if(n=e,e=r.caller,!_.isObject(n))throw Error("argument 1 must be an object");_.each(n,function(e,t){if(!_.isFunction(e))throw Error("helper '"+t+"' must be a function")}),_.each(n,function(t,r){e.$$dependencies[r]||(e.$$dependencies[r]=new Tracker.Dependency),o.$$setFnHelper(e,r,t)})},n.getReactively=function(e,n,o){if(t.isViewModel(e)){if(angular.isUndefined(o)&&(o=!1),!_.isString(n))throw Error("argument 2 must be a string");if(!_.isBoolean(o))throw Error("argument 3 must be a boolean")}else{if(o=angular.isDefined(n)?n:!1,n=e,e=r.caller,!_.isString(n))throw Error("argument 1 must be a string");if(!_.isBoolean(o))throw Error("argument 2 must be a boolean")}return this.$$reactivateEntity(e,n,this.$watch,o)},n.getCollectionReactively=function(e,n){
if(t.isViewModel(e)){if(!_.isString(n))throw Error("argument 2 must be a string")}else if(n=e,e=r.caller,!_.isString(n))throw Error("argument 1 must be a string");return this.$$reactivateEntity(e,n,this.$watchCollection)},n.$$reactivateEntity=function(t,r,n){if(!t.$$dependencies[r]){t.$$dependencies[r]=new Tracker.Dependency;for(var o=arguments.length,i=Array(o>3?o-3:0),a=3;o>a;a++)i[a-3]=arguments[a];this.$$watchEntity.apply(this,[t,r,n].concat(i))}return t.$$dependencies[r].depend(),e(r)(t)},n.$$watchEntity=function(t,r,n){for(var o=this,i=_.partial(e(r),t),a=i(),s=arguments.length,u=Array(s>3?s-3:0),c=3;s>c;c++)u[c-3]=arguments[c];n.call.apply(n,[this,i,function(e,n){var i=e!==a||e!==n;i&&o.$$changed(t,r)}].concat(u))},n.$$setFnHelper=function(e,r,n){var o=this;this.autorun(function(i){var a=n.apply(e);Tracker.nonreactive(function(){t.isCursor(a)?!function(){var t=o.$$handleCursor(e,r,a);i.onInvalidate(function(){t.stop(),e[r].splice(0)})}():o.$$handleNonCursor(e,r,a),o.$$changed(e,r)})})},n.$$setValHelper=function(e,t,r){var n=this,o=arguments.length<=3||void 0===arguments[3]?!0:arguments[3];if(o){var i=_.isObject(r);this.getReactively(e,t,i)}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return r},set:function(o){r=o,n.$$changed(e,t)}})},n.$$handleCursor=function(e,t,r){var n=this;if(angular.isUndefined(e[t]))this.$$setValHelper(e,t,r.fetch(),!1);else{var o=jsondiffpatch.diff(e[t],r.fetch());jsondiffpatch.patch(e[t],o)}var i=r.observe({addedAt:function(r,o){i&&(e[t].splice(o,0,r),n.$$changed(e,t))},changedAt:function(r,o,i){var a=jsondiffpatch.diff(e[t][i],r);jsondiffpatch.patch(e[t][i],a),n.$$changed(e,t)},movedTo:function(r,o,i){e[t].splice(o,1),e[t].splice(i,0,r),n.$$changed(e,t)},removedAt:function(r,o){e[t].splice(o,1),n.$$changed(e,t)}});return i},n.$$handleNonCursor=function(e,r,n){var o=e[r];if(angular.isDefined(o)&&(delete e[r],o=null),angular.isUndefined(o))this.$$setValHelper(e,r,n);else if(t.areSiblings(o,n)){var i=jsondiffpatch.diff(o,n);jsondiffpatch.patch(o,i),this.$$changed(e,r)}else e[r]=n},n.$$depend=function(e,t){e.$$dependencies[t].depend()},n.$$changed=function(e,t){this.$$throttledDigest(),e.$$dependencies[t].changed()},n}])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.name="angular-templates";try{angular.module(r)}catch(n){angular.module(r,[])}}]);
//# sourceMappingURL=angular-meteor.min.js.map